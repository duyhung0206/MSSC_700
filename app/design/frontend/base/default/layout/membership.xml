<?xml version="1.0"?>
<layout version="0.1.0">
    <default>
        <reference name="top.links">
            <action method="addLink" translate="label title" module="membership">
                <label>Membership</label>
                <url helper="membership/getMembershipUrl"/>
                <title>Membership</title>
                <prepare/>
                <urlParams/>
                <position>10</position>
            </action>
        </reference>
        <reference name="head">
            <action method="addCss">
                <styleSheet>css/magestore/membershiplibrary.css</styleSheet>
            </action>
            <action method="addCss">
                <styleSheet>css/magestore/membership.css</styleSheet>
            </action>
        </reference>
    </default>


    <catalog_category_layered>
        <reference name="product_list">
            <action method="setTemplate">
                <template>membership/catalog/product/list.phtml</template>
            </action>
        </reference>
    </catalog_category_layered>


    <membership_index_blockaccount>
        <reference name="content">
            <block type="membership/membership" name="membership.blockaccount" template="membership/blockaccount.phtml"/>
        </reference>
    </membership_index_blockaccount>

    <membership_index_index>
        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>
        <reference name="content">
            <block type="membership/membership" name="membership" template="membership/membership.phtml" />
        </reference>
        <reference name="after_body_start">
            <block type="core/template" name="membership_cssgen" template="membership/cssgen.phtml" />
        </reference>
    </membership_index_index>
    <membership_package_view>
        <reference name="root">
            <action method="setTemplate">
                <template>page/1column.phtml</template>
            </action>
        </reference>
        <reference name="content">
            <block type="membership/package" name="package" template="membership/package.phtml" />
        </reference>
        <reference name="after_body_start">
            <block type="core/template" name="membership_cssgen" template="membership/cssgen.phtml" />
        </reference>
    </membership_package_view>
	
    <membership_package_compare translate="label">
        <label>Membership Package Compare List</label>
        <reference name="root">
            <action method="setTemplate">
                <template>page/popup.phtml</template>
            </action>
        </reference>
        <reference name="head">
            <action method="addJs">
                <script>scriptaculous/scriptaculous.js</script>
            </action>
            <action method="addJs">
                <script>varien/product.js</script>
            </action>
        </reference>
        <reference name="content">
            <block type="membership/compare" name="membership.compare" template="membership/compare.phtml"/>
        </reference>
        <reference name="after_body_start">
            <block type="core/template" name="membership_cssgen" template="membership/cssgen.phtml" />
        </reference>
    </membership_package_compare>
	
    <customer_account>
        <reference name="customer_account_navigation">
            <action method="addLink" translate="label" module="membership">
                <name>Membership Plan</name>
                <path>membership/plan/index</path>
                <label>Membership Plan</label>
            </action>
        </reference>
        <reference name="after_body_start">
            <block type="core/template" name="membership_cssgen" template="membership/cssgen.phtml" />
        </reference>
    </customer_account>

    <customer_account>
        <reference name="customer_account_navigation">
            <action method="addLink" translate="label" module="membership">
                <name>Exchange product</name>
                <path>membership/exchangeproduct/index</path>
                <label>Exchange product</label>
            </action>
        </reference>
        <reference name="after_body_start">
            <block type="core/template" name="membership_cssgen" template="membership/cssgen.phtml"/>
        </reference>
    </customer_account>

    <membership_exchangeproduct_index>
        <update handle="customer_account"/>
        <reference name="head">
            <action method="addCss">
                <styleSheet>css/owl.carousel/owl.carousel.css</styleSheet>
            </action>
            <action method="addCss">
                <styleSheet>css/owl.carousel/owl.theme.css</styleSheet>
            </action>
            <!--<action method="addJs">-->
            <!--<script>owl.carousel/jquery-1.9.1.min.js</script>-->
            <!--</action>-->
            <action method="addJs">
                <script>owl.carousel/owl.carousel.js</script>
            </action>
        </reference>
        <reference name="content">
            <block type="membership/exchangeproduct" name="membership_exchangeproduct"
                   template="membership/exchangeproduct.phtml"/>
        </reference>
    </membership_exchangeproduct_index>

    <membership_plan_index>
        <update handle="customer_account"/>
        <reference name="content">
            <block type="membership/plan" name="membership_plan" template="membership/plan.phtml" />
        </reference>
    </membership_plan_index>
	
    <catalog_product_view>
        <reference name="product.info">
            <block type="membership/compare" name="membership" as="other" template="membership/comparebutton.phtml" />
        </reference>
    </catalog_product_view>

    <sales_order_view>
        <reference name="order_items">
        </reference>
        <reference name="order_totals">
            <block type="membership/order_totals" name="membership.order.totals"/>
        </reference>
    </sales_order_view>

    <sales_order_print>
        <reference name="sales.order.print">
        </reference>
        <reference name="order_totals">
            <block type="membership/order_totals" name="membership.order.totals"/>
        </reference>
    </sales_order_print>

    <sales_email_order_items>
        <reference name="order_totals">
            <block type="membership/order_totals" name="membership.order.totals"/>
        </reference>
    </sales_email_order_items>

    <sales_order_invoice>
        <reference name="invoice_totals">
            <block type="membership/order_invoice_totals" name="membership.order.invoice.totals"/>
        </reference>
    </sales_order_invoice>

    <sales_order_printinvoice>
        <reference name="invoice_totals">
            <block type="membership/order_invoice_totals" name="membership.order.invoice.totals"/>
        </reference>
    </sales_order_printinvoice>

    <sales_email_order_invoice_items>
        <reference name="invoice_totals">
            <block type="membership/order_invoice_totals" name="membership.order.invoice.totals"/>
        </reference>
    </sales_email_order_invoice_items>

    <sales_order_creditmemo>
        <reference name="creditmemo_totals">
            <block type="membership/order_creditmemo_totals" name="membership.order.creditmemo.totals"/>
        </reference>
    </sales_order_creditmemo>

    <sales_order_printcreditmemo>
        <reference name="creditmemo_totals">
            <block type="membership/order_creditmemo_totals" name="membership.creditmemo.order.totals"/>
        </reference>
    </sales_order_printcreditmemo>

    <sales_email_order_creditmemo_items>
        <reference name="creditmemo_totals">
            <block type="membership/order_creditmemo_totals" name="membership.creditmemo.order.totals"/>
        </reference>
    </sales_email_order_creditmemo_items>
</layout>